(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87b17ca2"],{"0b42":function(t,a,e){var i=e("da84"),s=e("e8b5"),r=e("68ee"),n=e("861d"),c=e("b622"),o=c("species"),l=i.Array;t.exports=function(t){var a;return s(t)&&(a=t.constructor,r(a)&&(a===l||s(a.prototype))?a=void 0:n(a)&&(a=a[o],null===a&&(a=void 0))),void 0===a?l:a}},"159b":function(t,a,e){var i=e("da84"),s=e("fdbc"),r=e("785a"),n=e("17c2"),c=e("9112"),o=function(t){if(t&&t.forEach!==n)try{c(t,"forEach",n)}catch(a){t.forEach=n}};for(var l in s)s[l]&&o(i[l]&&i[l].prototype);o(r)},"17c2":function(t,a,e){"use strict";var i=e("b727").forEach,s=e("a640"),r=s("forEach");t.exports=r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,a,e){var i=e("d039"),s=e("b622"),r=e("2d00"),n=s("species");t.exports=function(t){return r>=51||!i((function(){var a=[],e=a.constructor={};return e[n]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},"4de4":function(t,a,e){"use strict";var i=e("23e7"),s=e("b727").filter,r=e("1dde"),n=r("filter");i({target:"Array",proto:!0,forced:!n},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,a,e){var i=e("0b42");t.exports=function(t,a){return new(i(t))(0===a?0:a)}},7470:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"attraction"}},[i("div",{ref:"scrollPoint",staticClass:"banner position-relative",attrs:{id:"banner"}},[i("div",{staticClass:"carousel slide",attrs:{id:"carouselBanner","data-bs-ride":"carousel"}},[t._m(0),i("div",{staticClass:"carousel-inner"},t._l(t.bannerData,(function(t,a){return i("div",{key:a,staticClass:"carousel-item",class:{active:0===a}},[i("img",{staticClass:"d-block w-100",attrs:{src:t.imgUrl,alt:t.alt}})])})),0)]),i("div",{staticClass:"bannerContent position-absolute top-50 start-50 translate-middle"},[t._m(1),i("form",{staticClass:"d-flex"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-select mx-1 mx-md-2 categorySelector text-center",attrs:{id:"categorySelector","aria-label":"category select"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.category=a.target.multiple?e:e[0]}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("類別")]),t._l(t.categoryList,(function(a){return i("option",{key:a.id,domProps:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2),i("select",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-select mx-1 mx-md-2 citySelector",attrs:{id:"citySelector","aria-label":"city select"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.city=a.target.multiple?e:e[0]}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇縣市")]),t._l(t.cityData,(function(a){return i("option",{key:a.City,domProps:{value:a.City}},[t._v(" "+t._s(a.CityName)+" ")])}))],2),i("button",{staticClass:"searchBtn mx-1 mx-md-2",attrs:{type:"button",id:"searchBtn"},on:{click:t.getEventData}},[i("i",{staticClass:"bi bi-search text-white fs-6"})])])])]),i("section",{staticClass:"eventSection"},[i("div",{staticClass:"container"},[i("h3",{staticClass:"pb-3"},[t._v(t._s(t.currentCity)+t._s(""!==t.currentCategory?t.currentCategory:"所有活動"))]),t._m(2),i("div",{staticClass:"row"},t._l(t.dataShow,(function(a,s){return i("div",{key:s,staticClass:"col-12 col-md-6 col-lg-3 mb-5"},[i("div",{staticClass:"card",attrs:{"data-aos":"fade-up"}},[i("div",{staticClass:"card-img-block"},[i("img",{staticClass:"card-img-top",attrs:{src:a.Picture.PictureUrl1||e("79bd"),alt:a.Picture.PictureDescription1||a.ActivityName}})]),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title pb-1"},[t._v(t._s(a.ActivityName))]),i("span",[i("i",{staticClass:"bi bi-clock pe-1"}),t._v(t._s(a.time||"未提供資料"))]),i("p",{staticClass:"card-text pt-3"},[i("i",{staticClass:"bi bi-geo-alt-fill pe-1"}),t._v(t._s(a.Location||a.City))])]),i("a",{staticClass:"card-btn",attrs:{href:"#","data-bs-toggle":"modal","data-bs-target":"#"+a.ActivityID}},[t._v("了解更多")])]),i("div",{staticClass:"modal fade",attrs:{id:a.ActivityID,tabindex:"-1","aria-labelledby":"eventLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header border-0"},[i("h5",{staticClass:"modal-title",attrs:{id:"eventLabel"}},[t._v(" "+t._s(a.ActivityName)+" ")]),t._m(3,!0)]),i("div",{staticClass:"modal-body"},[i("p",{staticClass:"fs-sm pb-3"},[i("i",{staticClass:"bi bi-geo-alt-fill pe-1"}),t._v(t._s(a.Address||"未提供資料"))]),i("p",{staticClass:"pb-3 pb-md-5"},[t._v(" "+t._s(a.Description||"未提供資料")+" ")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("img",{attrs:{src:a.Picture.PictureUrl1||e("79bd"),alt:a.Picture.PictureDescription1||a.ActivityName}})])])]),i("div",{staticClass:"modal-footer border-0 justify-content-between"},[i("ul",{staticClass:"d-block d-md-flex flex-wrap"},[i("li",{staticClass:"pe-4"},[i("i",{staticClass:"bi bi-clock pe-1"}),t._v(t._s(a.time||"未提供資料"))]),i("li",{staticClass:"pe-4"},[i("i",{staticClass:"bi bi-ticket pe-1"}),t._v(t._s(a.Charge&&"0"===a.Charge?"免費入場":"未提供資料"))]),i("li",{staticClass:"pe-4"},[i("i",{staticClass:"bi bi-telephone pe-1"}),t._v(t._s(a.Phone||"未提供資料"))]),a.Class1||a.Class2||a.Class1?i("li",{staticClass:"pe-4"},[i("i",{staticClass:"bi bi-list-ul pe-1"}),t._v(t._s(a.Class1?"#"+a.Class1+" ":"")+t._s(a.Class2?"#"+a.Class2+" ":"")+t._s(a.Class3?"#"+a.Class3+" ":""))]):i("li",{staticClass:"pe-4"},[i("i",{staticClass:"bi bi-list-ul pe-1"}),t._v("其他")])])])])])])])})),0),i("div",{staticClass:"pagination"},[0!=t.filterData.length?i("button",{staticClass:"page-link",attrs:{type:"button",disabled:0===t.currentPage},on:{click:t.prePage}},[i("i",{staticClass:"bi bi-chevron-left"})]):t._e(),t.pageNum>5&&t.currentPage>2?i("span",{staticClass:"d-flex align-items-center px-1"},[i("i",{staticClass:"bi bi-three-dots"})]):t._e(),t._l(t.pageData(t.numArr),(function(a,e){return i("span",{key:e,staticClass:"page-link",class:{active:a-1===t.currentPage},on:{click:function(e){return t.page(a)}}},[t._v(t._s(a))])})),t.pageNum>5&&t.currentPage<t.pageNum-3?i("span",{staticClass:"d-flex align-items-center px-1"},[i("i",{staticClass:"bi bi-three-dots"})]):t._e(),0!=t.filterData.length?i("button",{staticClass:"page-link",attrs:{type:"button",disabled:t.currentPage+1===t.pageNum},on:{click:t.nextPage}},[i("i",{staticClass:"bi bi-chevron-right"})]):t._e()],2)])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-indicators"},[e("button",{staticClass:"active",attrs:{type:"button","data-bs-target":"#carouselBanner","data-bs-slide-to":"0","aria-current":"true","aria-label":"Slide 1"}}),e("button",{attrs:{type:"button","data-bs-target":"#carouselBanner","data-bs-slide-to":"1","aria-label":"Slide 2"}}),e("button",{attrs:{type:"button","data-bs-target":"#carouselBanner","data-bs-slide-to":"2","aria-label":"Slide 3"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"pb-3 fs-2 text-white text-center"},[t._v(" Welcome to"),e("br",{staticClass:"d-md-none"}),t._v(" Travel Taiwan ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"subtitle pb-5"},[t._v(" 各種不同的活動內容"),e("br"),t._v(" 邀請您一同來共襄盛舉！ ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("i",{staticClass:"bi bi-x-lg"})])}],r=(e("4de4"),e("d3b7"),e("159b"),e("fb6a"),{name:"App",data:function(){return{category:"所有活動",city:"Taiwan",currentCity:"台灣",currentCategory:"所有活動",eventData:[],eventTimeData:[],filterData:[],numArr:[],totalPage:[],pageSize:12,pageNum:1,dataShow:[],currentPage:0,height:0,bannerData:[{imgUrl:"https://images.unsplash.com/photo-1498931299472-f7a63a5a1cfa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1400&h=800&q=80",alt:"年度活動"},{imgUrl:"https://images.unsplash.com/photo-1576948676327-46cb0e272a69?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1400&h=800&q=80",alt:"藝文活動"},{imgUrl:"https://images.unsplash.com/photo-1568119948624-ff9807d6be20?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1400&h=800&q=80",alt:"節慶活動"}],cityData:[{CityName:"台灣",City:"Taiwan"},{CityName:"臺北市",City:"Taipei"},{CityName:"新北市",City:"NewTaipei"},{CityName:"桃園市",City:"Taoyuan"},{CityName:"臺中市",City:"Taichung"},{CityName:"臺南市",City:"Tainan"},{CityName:"高雄市",City:"Kaohsiung"},{CityName:"基隆市",City:"Keelung"},{CityName:"新竹市",City:"Hsinchu"},{CityName:"新竹縣",City:"HsinchuCounty"},{CityName:"苗栗縣",City:"MiaoliCounty"},{CityName:"彰化縣",City:"ChanghuaCounty"},{CityName:"南投縣",City:"NantouCounty"},{CityName:"雲林縣",City:"YunlinCounty"},{CityName:"嘉義縣",City:"ChiayiCounty"},{CityName:"嘉義市",City:"Chiayi"},{CityName:"屏東縣",City:"PingtungCounty"},{CityName:"宜蘭縣",City:"YilanCounty"},{CityName:"花蓮縣",City:"HualienCounty"},{CityName:"臺東縣",City:"TaitungCounty"},{CityName:"金門縣",City:"KinmenCounty"},{CityName:"澎湖縣",City:"PenghuCounty"},{CityName:"連江縣",City:"LienchiangCounty"}],categoryList:[{id:1,label:"所有活動",value:"所有活動"},{id:2,label:"年度活動",value:"年度活動"},{id:3,label:"藝文活動",value:"藝文活動"},{id:4,label:"節慶活動",value:"節慶活動"},{id:5,label:"其他活動",value:"其他活動"}]}},methods:{getEventData:function(){var t=this,a="";a="Taiwan"===this.city?"":this.city,this.axios({method:"get",url:"https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity/".concat(a),headers:this.GetAuthorizationHeader()}).then((function(a){t.eventData=a.data,t.filterCategory(),t.cityTranslate(),t.currentCategory=t.category,window.scrollTo(0,t.height)})).catch((function(t){console.log("error",t)}))},cityTranslate:function(){var t=this;if(""!==this.city){var a=this.cityData.filter((function(a){return a.City===t.city}));this.currentCity=a[0].CityName||""}},filterCategory:function(){var t=this;if("所有活動"===this.category?this.filterData=this.eventData:"其他活動"===this.category?this.filterData=this.eventData.filter((function(t){return!t.Class1&&!t.Class2&&!t.Class3})):this.filterData=this.eventData.filter((function(a){return a.Class1===t.category||a.Class2===t.category||a.Class3===t.category})),0===this.filterData.length)return alert("查無資料"),void this.reset();this.pagination()},getEventTime:function(){var t=this;this.pageData.forEach((function(a,e){t.pageData[e].time=a.StartTime.substr(0,10)+"~"+a.EndTime.substr(0,10)}))},nextPage:function(){this.currentPage!==this.pageNum-1&&(this.dataShow=this.totalPage[++this.currentPage],this.getScrollHeight())},prePage:function(){0!==this.currentPage&&(this.dataShow=this.totalPage[--this.currentPage],this.getScrollHeight())},page:function(t){this.currentPage=t-1,this.dataShow=this.totalPage[t-1],this.getScrollHeight()},pagination:function(){this.pageNum=Math.ceil(this.filterData.length/this.pageSize)||1,this.reset();for(var t=0;t<this.pageNum;t++)this.numArr.push(t+1),this.totalPage[t]=this.filterData.slice(this.pageSize*t,this.pageSize*(t+1)),this.dataShow=this.totalPage[this.currentPage]},getScrollHeight:function(){window.document.body.scrollWidth<769?this.height=this.$refs.scrollPoint.offsetTop+this.$refs.scrollPoint.offsetHeight-100:this.height=this.$refs.scrollPoint.offsetTop+this.$refs.scrollPoint.offsetHeight,window.scrollTo(0,this.height)},reset:function(){this.currentPage=0,this.numArr=[],this.totalPage=[],this.dataShow=[]},GetAuthorizationHeader:function(){var t="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",a="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",e=(new Date).toGMTString(),i=new jsSHA("SHA-1","TEXT");i.setHMACKey(a,"TEXT"),i.update("x-date: "+e);var s=i.getHMAC("B64"),r='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+s+'"';return{Authorization:r,"X-Date":e}}},computed:{pageData:function(){var t=this;return function(a){return t.pageNum<=5||t.currentPage<=2?a.filter((function(t){return t<=5})):t.currentPage>2&&t.currentPage<t.pageNum-2?[t.currentPage-1,t.currentPage,t.currentPage+1,t.currentPage+2,t.currentPage+3]:a.filter((function(a){return a>t.pageNum-5}))}}},mounted:function(){this.category=this.$route.query.category||"所有活動",this.getEventData()}}),n=r,c=e("2877"),o=Object(c["a"])(n,i,s,!1,null,null,null);a["default"]=o.exports},"79bd":function(t,a,e){t.exports=e.p+"img/noImage.34660e81.jpg"},8418:function(t,a,e){"use strict";var i=e("a04b"),s=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var n=i(a);n in t?s.f(t,n,r(0,e)):t[n]=e}},a640:function(t,a,e){"use strict";var i=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&i((function(){e.call(null,a||function(){throw 1},1)}))}},b727:function(t,a,e){var i=e("0366"),s=e("e330"),r=e("44ad"),n=e("7b0b"),c=e("07fa"),o=e("65f0"),l=s([].push),u=function(t){var a=1==t,e=2==t,s=3==t,u=4==t,d=6==t,f=7==t,h=5==t||d;return function(C,g,y,p){for(var v,b,m=n(C),_=r(m),F=i(g,y),x=c(_),w=0,P=p||o,N=a?P(C,x):e||f?P(C,0):void 0;x>w;w++)if((h||w in _)&&(v=_[w],b=F(v,w,m),t))if(a)N[w]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:l(N,v)}else switch(t){case 4:return!1;case 7:l(N,v)}return d?-1:s||u?u:N}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e8b5:function(t,a,e){var i=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fb6a:function(t,a,e){"use strict";var i=e("23e7"),s=e("da84"),r=e("e8b5"),n=e("68ee"),c=e("861d"),o=e("23cb"),l=e("07fa"),u=e("fc6a"),d=e("8418"),f=e("b622"),h=e("1dde"),C=e("f36a"),g=h("slice"),y=f("species"),p=s.Array,v=Math.max;i({target:"Array",proto:!0,forced:!g},{slice:function(t,a){var e,i,s,f=u(this),h=l(f),g=o(t,h),b=o(void 0===a?h:a,h);if(r(f)&&(e=f.constructor,n(e)&&(e===p||r(e.prototype))?e=void 0:c(e)&&(e=e[y],null===e&&(e=void 0)),e===p||void 0===e))return C(f,g,b);for(i=new(void 0===e?p:e)(v(b-g,0)),s=0;g<b;g++,s++)g in f&&d(i,s,f[g]);return i.length=s,i}})}}]);
//# sourceMappingURL=chunk-87b17ca2.4f482991.js.map